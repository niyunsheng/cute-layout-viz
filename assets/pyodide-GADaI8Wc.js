const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pyodide-C1DYZR6V.js","assets/index-CyG5ptUr.js","assets/index-lqWuzfeJ.css"])))=>i.map(i=>d[i]);
import{_ as y}from"./index-CyG5ptUr.js";let a=null,l=null;class p{startTime;steps=[];constructor(){this.startTime=performance.now()}checkpoint(o,r=this.startTime){const t=performance.now(),c=t-r;return this.steps.push({name:o,duration:c}),t}summary(){const o=performance.now()-this.startTime,r=this.steps.filter(t=>t.duration>50);console.log(`
ðŸš€ Pyodide initialized in ${o.toFixed(0)}ms`),r.length>0&&(console.log("   Key steps:"),r.forEach(t=>{console.log(`   â€¢ ${t.name}: ${t.duration.toFixed(0)}ms`)})),console.log("")}}async function f(){if(a)return a;if(l)return l;const i=new p;return l=(async()=>{let o=performance.now();const{loadPyodide:r}=await y(async()=>{const{loadPyodide:e}=await import("./pyodide-C1DYZR6V.js");return{loadPyodide:e}},__vite__mapDeps([0,1,2]));o=i.checkpoint("Import pyodide module",o);const t=await r({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.29.1/full/",fullStdLib:!1});o=i.checkpoint("Load & initialize runtime",o);const c="/cute-layout-viz/",u=["utils.py","layout.py","composition.py","layout_string_parser.py"];try{t.FS.mkdir("/cute_layout")}catch{}t.FS.writeFile("/cute_layout/__init__.py","");for(const e of u)try{const s=`${c}python/${e}`,d=await fetch(s);if(!d.ok)throw new Error(`Failed to load ${e}: ${d.statusText}`);let n=await d.text();n=n.replace(/from \.([a-z_]+) import/g,"from cute_layout.$1 import"),n=n.replace(/from \. import/g,"from cute_layout import"),t.FS.writeFile(`/cute_layout/${e}`,n)}catch(s){throw console.error(`[Pyodide] Error loading ${e}:`,s),s}o=i.checkpoint("Load Python files",o),t.runPython(`
import sys
sys.path.insert(0, '/')
    `);try{t.runPython("from cute_layout import layout_string_parser")}catch(e){throw console.error("[Pyodide] Failed to import cute_layout:",e),e}return i.summary(),a=t,t})(),l}function h(){if(!a)throw new Error("Pyodide not initialized. Call initPyodide() first.");return a}export{h as getPyodide,f as initPyodide};
